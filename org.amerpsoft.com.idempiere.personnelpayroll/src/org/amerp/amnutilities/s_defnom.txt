*-	Define todas las variables para la fórmula
PUBLIC ELA_GRUPO, SB,UTIL,PREST,ELA_GRUPO,ELA_DESGRUPO,SMSANE,SMAH,SMASANE,SALVAC,SALUTI
PUBLIC R_ASIG, R_DEDUC
PUBLIC RA_ASIG, RA_DEDUC
PUBLIC RB_ASIG, RB_DEDUC
PUBLIC RC_ASIG, RC_DEDUC
PUBLIC R_FAOV,R_SALARIO,R_INCE,R_SSO,R_ARC,R_SPF
PUBLIC R_DESCANSO,R_FERIADO
ELA_GRUPO=1
ELA_DESGRUPO="CONCEPTOS GRUPO A"
SB=0
SMSANE=0
SMAH=0
UTIL=0
PREST=0
SALVAC=0
SALUTI=0
STORE 0 to R_ASIG, R_DEDUC
STORE 0 to RA_ASIG, RA_DEDUC
STORE 0 to RB_ASIG, RB_DEDUC
STORE 0 to RC_ASIG, RC_DEDUC 
STORE 0 TO R_FAOV,R_SALARIO,R_INCE,R_SSO,R_ARC,R_SPF
STORE 0.00 TO R_DESCANSO,R_FERIADO
*-	Define todas las variables para la fórmula
SELECT &A_MACOD
SET EXACT OFF
SEEK XCCost + XSA + XtipNo
DO WHILE !EOF() AND macod.ccost = XCCost AND macod.sa = XSA ;
	AND macod.tnomina = XTipNo
   	XCODIGO = macod.concepto
   	PUBLIC RS&XCODIGO, CN&XCODIGO
   	RS&XCODIGO=0
		CN&XCODIGO=0
   	SELECT &A_MACOD
   	IF !EOF()
    	SKIP
	ENDIF
ENDDO
*-

IF	PNO_CONDPT
	*-	Inicializa los valores del arreglo de conceptos totales por departamento
	SELECT &A_DEPTO
	lnNROREG = RECNO()
	SET ORDER TO DEPTA   && CCOST+TNOMINA+DEPTO
	SET EXACT OFF
	SEEK XCCost + XTipNo
	DO	WHILE	!EOF() AND depto.ccost=XCCost AND depto.tnomina=XTipNo
		lcDEPTO = depto.depto
		PUBLIC CDP&lcDEPTO
	  	CDP&lcDEPTO=0
		SELECT &A_MACOD
		SET EXACT OFF
		SEEK XCCost + XSA + XTipNo
		DO WHILE !EOF() AND macod.ccost = XCCost AND macod.sa = XSA ;
			AND macod.tnomina = XTipNo
	   	XCODIGO = macod.concepto
	   	lcDEPTO = depto.depto

	   	PUBLIC CNDP&lcDEPTO&XCODIGO

			CNDP&lcDEPTO&XCODIGO=0
	   	SELECT &A_MACOD
	   	IF !EOF()
	    		SKIP
			ENDIF
		ENDDO
		SELECT &A_DEPTO
		SKIP
	ENDDO

	SELECT &A_DEPTO
	GO lnNROREG
ENDIF
