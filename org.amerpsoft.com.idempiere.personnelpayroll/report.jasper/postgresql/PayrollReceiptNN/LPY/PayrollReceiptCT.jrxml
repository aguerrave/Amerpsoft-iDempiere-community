<?xml version="1.0" encoding="UTF-8"?>
<!-- Created with Jaspersoft Studio version 6.21.2.final using JasperReports Library version 6.21.2-8434a0bd7c3bbc37cbf916f2968d35e4b165821a  -->
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="PayrollReceiptCT" pageWidth="595" pageHeight="842" columnWidth="575" leftMargin="10" rightMargin="10" topMargin="10" bottomMargin="10" resourceBundle="PayrollReceipt" uuid="fd9f1ac1-4033-44f3-82af-663167512350">
	<property name="com.jaspersoft.studio.data.defaultdataadapter" value="idempiereSeed11_LPY"/>
	<property name="com.jaspersoft.studio.data.sql.tables" value=""/>
	<property name="com.jaspersoft.studio.data.sql.SQLQueryDesigner.sash.w1" value="333"/>
	<property name="com.jaspersoft.studio.data.sql.SQLQueryDesigner.sash.w2" value="660"/>
	<property name="com.jaspersoft.studio.unit.pageHeight" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.pageWidth" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.topMargin" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.bottomMargin" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.leftMargin" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.rightMargin" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.columnWidth" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.columnSpacing" value="pixel"/>
	<parameter name="AD_Client_ID" class="java.lang.Integer">
		<defaultValueExpression><![CDATA[1000000]]></defaultValueExpression>
	</parameter>
	<parameter name="AD_Org_ID" class="java.lang.Integer"/>
	<parameter name="C_Currency_ID" class="java.lang.Integer">
		<defaultValueExpression><![CDATA[344]]></defaultValueExpression>
	</parameter>
	<parameter name="AMN_Contract_ID" class="java.lang.Integer"/>
	<parameter name="AMN_Period_ID" class="java.lang.Integer"/>
	<parameter name="AMN_Location_ID" class="java.lang.Integer"/>
	<parameter name="AMN_Department_ID" class="java.lang.Integer"/>
	<parameter name="AMN_Employee_ID" class="java.lang.Integer"/>
	<parameter name="AMN_Payroll_ID" class="java.lang.Integer"/>
	<parameter name="isShow" class="java.lang.String">
		<parameterDescription><![CDATA[]]></parameterDescription>
		<defaultValueExpression><![CDATA["Y"]]></defaultValueExpression>
	</parameter>
	<parameter name="isShowZERO" class="java.lang.String">
		<parameterDescription><![CDATA[]]></parameterDescription>
		<defaultValueExpression><![CDATA["Y"]]></defaultValueExpression>
	</parameter>
	<parameter name="receiptNote" class="java.lang.String">
		<defaultValueExpression><![CDATA["Observaciones:"]]></defaultValueExpression>
	</parameter>
	<parameter name="isPrintCopy" class="java.lang.String">
		<defaultValueExpression><![CDATA["Y"]]></defaultValueExpression>
	</parameter>
	<parameter name="RESOURCE_DIR" class="java.lang.String" isForPrompting="false">
		<defaultValueExpression><![CDATA["./"]]></defaultValueExpression>
	</parameter>
	<queryString language="SQL">
		<![CDATA[-- Payroll Receipt CrossTab (Column View)
-- Used for  reports and individual print
SELECT * FROM
(
	SELECT DISTINCT
	-- ORGANIZATION
    org.ad_client_id as org_client, org.ad_org_id as org_org,
    coalesce(org.value,'') as org_value,
	coalesce(org.name,org.value,'') as org_name,
	COALESCE(org.description,org.name,org.value,'') as org_description, 
	COALESCE(orginfo.taxid,'') as org_taxid,
	CASE WHEN img1.binarydata IS NOT NULL THEN img1.binarydata ELSE img2.binarydata END as org_logo,
    loc.regionname as region,
	loc.city as ciudad,
    CONCAT(loc.address1,' ', loc.address2) as direccion,
	-- LOCATION
	 lct.amn_location_id, lct.value as loc_value, COALESCE(lct.name, lct.description) as localidad,
	-- PERIOD
	 prd.amn_period_id, prd.name as periodo, prd.amndateini, prd.amndateend, prd.amn_period_status,
	 prd.refdateini, prd.refdateend,
	-- CONTRACT
   amc.value as c_value, COALESCE(amc.name, amc.description) as c_tipo, 
	-- DEPARTAMENT
   COALESCE(dep.name,dep.description) as departamento,
	-- EMPLOYEE
   emp.amn_employee_id, emp.value as value_emp, emp.name as empleado, emp.incomedate as fecha_ingreso,
   COALESCE(jtt.name, jtt.description,'') as cargo, 
   COALESCE(cbp.taxid,'') as nro_id, 
   COALESCE(emp.salary,CAST(0 as numeric)) as salario,
   COALESCE(histo.salary_hist,CAST(0 as numeric)) as salary_hist,
   -- CURRENCY
	curr1.iso_code as iso_code1,
	COALESCE(currt1.cursymbol,curr1.cursymbol,curr1.iso_code,'') as cursymbol1,
	COALESCE(currt1.description,curr1.description,curr1.iso_code,curr1.cursymbol,'') as currname1,
	curr2.iso_code as iso_code2,
	COALESCE(currt2.cursymbol,curr2.cursymbol,curr2.iso_code,'') as cursymbol2,
	COALESCE(currt2.description,curr2.description,curr2.iso_code,curr2.cursymbol,'') as currname2, 
-- PAYROLL
   CASE WHEN $P{isPrintCopy} = 'Y' THEN 'Original Trabajador' Else  'Original ' END as copia,
   '01' as copiaforma,
   COALESCE(pyr.documentno,'') as documentno,
   	pyr.description as recibo,
	pyr.amn_payroll_id,
	-- CONCEPTOS RESUMIDOS
	pyr_d.salariobasico,
	pyr_d.subtotal, 
	pyr_d.cantidad, 
	pyr_d.horasextras,
	pyr_d.otros,
	pyr_d.comisadm,
	pyr_d.comisaph,
	pyr_d.comisplaza,
	pyr_d.reposo,
	pyr_d.otroshaberes,
	pyr_d.boniffam,
	pyr_d.otrosingresos,
	pyr_d.ipstrabajador,
	pyr_d.irptrabajador,
	pyr_d.ausencia,
	pyr_d.otrosd,
	pyr_d.embargo,
	pyr_d.otrosdescuentos,
	pyr_d.ipspatron
	FROM adempiere.amn_payroll as pyr
	LEFT JOIN (
		SELECT DISTINCT ON (pyr.amn_payroll_id) pyr.amn_payroll_id, pyh.salary as salary_hist , pyh.amn_period_yyyymm 
			FROM adempiere.amn_payroll as pyr
	left join AMN_Payroll_Historic pyh on pyr.amn_employee_id = pyh.amn_employee_id  and to_char(pyr.dateacct,'YYYY-MM') = to_char(pyh.validto ,'YYYY-MM')
	) as histo on histo.amn_payroll_id = pyr.amn_payroll_id
	INNER JOIN adempiere.ad_client as cli ON (pyr.ad_client_id = cli.ad_client_id)
	INNER JOIN adempiere.ad_clientinfo as cliinfo ON (cli.ad_client_id = cliinfo.ad_client_id)
	 LEFT JOIN adempiere.ad_image as img1 ON (cliinfo.logoreport_id = img1.ad_image_id)
	INNER JOIN adempiere.ad_org   as org ON (org.ad_org_id = pyr.ad_org_id)
	INNER JOIN adempiere.ad_orginfo as orginfo ON (org.ad_org_id = orginfo.ad_org_id)
	 LEFT JOIN adempiere.c_location as loc ON (orginfo.c_location_id = loc.c_location_id)
	 LEFT JOIN adempiere.ad_image as img2 ON (orginfo.logo_id = img2.ad_image_id)
	 LEFT JOIN (
			SELECT 
				resum.amn_payroll_id,
				sum(resum.salariobasico) AS salariobasico, 
				sum(resum.subtotal) AS subtotal, 
				sum(resum.cantidad) AS cantidad, 
				sum(resum.horasextras) AS horasextras,
				sum(resum.otros) AS otros,
				sum(resum.comisadm) AS comisadm,
				sum(resum.comisaph) AS comisaph,
				sum(resum.comisplaza) AS comisplaza,
				sum(resum.reposo) AS reposo,
				sum(resum.otroshaberes) AS otroshaberes,
				sum(resum.boniffam) AS boniffam,
				sum(resum.otrosingresos) AS otrosingresos,
				sum(resum.ipstrabajador) AS ipstrabajador,
				sum(resum.irptrabajador) AS irptrabajador,
				sum(resum.ausencia) AS ausencia,
				sum(resum.otrosd) AS otrosd,
				sum(resum.embargo) AS embargo,
				sum(resum.otrosdescuentos) AS otrosdescuentos,
				sum(resum.ipspatron) AS ipspatron
			FROM (
				SELECT 	
				-- RECIBO
				pyr.amn_payroll_id,
				-- TIPO DE CONCEPTO
				cty.calcorder, cty.value as cty_value, COALESCE(cty.name, cty.description) as concept_type,
				-- PAYROLL DETAIL
				-- *************
			   	-- ASIGNACIONES	  
				-- *************
				-- cty.sign = 'D'
			   	-- SB		Salario Básico Trabajador 
			  	CASE WHEN cty.sign = 'D' AND cty.Value='SB' THEN pyr_d.amountcalculated  ELSE 0 END  as salariobasico,
			  	--SALARIO		Salario Trabajador
			  	CASE WHEN cty.sign = 'D' AND cty.Value='SALARIO' THEN pyr_d.amountallocated  ELSE 0 END  as subtotal,
			  	CASE WHEN cty.sign = 'D' AND cty.Value='SALARIO' THEN pyr_d.qtyvalue ELSE 0 END  as cantidad,
			  	--HED		Horas Extras
			  	CASE WHEN cty.sign = 'D' AND cty.Value='HED' THEN pyr_d.amountallocated  ELSE 0 END  as horasextras,
				--OTROS		Otros Ingresos
			  	CASE WHEN cty.sign = 'D' AND cty.Value='OTROS' THEN pyr_d.amountallocated  ELSE 0 END  as otros,
				--COMISADM	Comisión Adm
				CASE WHEN cty.sign = 'D' AND cty.Value='COMISADM' THEN pyr_d.amountallocated  ELSE 0 END  as comisadm,
				--COMISAPH	Comisión aph
				CASE WHEN cty.sign = 'D' AND cty.Value='COMISAPH' THEN pyr_d.amountallocated  ELSE 0 END  as comisaph,
				--COMISPLAZA	Comisión Plaza
				CASE WHEN cty.sign = 'D' AND cty.Value='COMISPLAZA' THEN pyr_d.amountallocated  ELSE 0 END  as comisplaza,
				--REPOSO		Reposos
				CASE WHEN cty.sign = 'D' AND cty.Value='REPOSO' THEN pyr_d.amountallocated  ELSE 0 END  as reposo,
				--OTROSHAB	Otros Haberes
				CASE WHEN cty.sign = 'D' AND cty.Value='OTROSHAB' THEN pyr_d.amountallocated  ELSE 0 END  as otroshaberes,
				--BONIFFAM	Bonificación Familiar
				CASE WHEN cty.sign = 'D' AND cty.Value='BONIFFAM' THEN pyr_d.amountallocated  ELSE 0 END  as boniffam,
				-- OTROS CONCEPTOS DE ASIGNACION
				CASE WHEN  cty.sign = 'D' AND cty.Value NOT IN ('SB','SALARIO', 'HED', 'OTROS', 'COMISADM', 'COMISAPH', 'COMISPLAZA', 'REPOSO', 'OTROSHAB', 'BONIFFAM') THEN pyr_d.amountallocated  ELSE 0 END  as otrosingresos,
				-- *************
				-- DEDUCCIONES
				-- *************
				-- cty.sign = 'C'	THEN
				--IPS_T		IPS Trabajador
				CASE WHEN cty.sign = 'C' AND cty.Value='IPS_T' THEN pyr_d.amountdeducted  ELSE 0 END  as ipstrabajador,
				--IRP		IRP
				CASE WHEN cty.sign = 'C' AND cty.Value='IRP' THEN pyr_d.amountdeducted  ELSE 0 END  as irptrabajador,
				--AUSENCIA	Ausencias
				CASE WHEN cty.sign = 'C' AND cty.Value='AUSENCIA' THEN pyr_d.amountdeducted  ELSE 0 END  as ausencia,
				--OTROSD		Otros Descuentos
				CASE WHEN cty.sign = 'C' AND cty.Value='OTROSD' THEN pyr_d.amountdeducted  ELSE 0 END  as otrosd,
				--EMBARGO		Embargo Juducial
				CASE WHEN cty.sign = 'C' AND cty.Value='EMBARGO' THEN pyr_d.amountdeducted  ELSE 0 END  as embargo,
				-- OTROS CONCEPTOS DE DEDUCCION
				CASE WHEN  cty.sign = 'C' AND cty.Value NOT IN ('IPS_T','IRP', 'AUSENCIA', 'OTROS', 'OTROSD', 'EMBARGO') THEN pyr_d.amountdeducted  ELSE 0 END  as otrosdescuentos,
				-- *************
				-- OTROS CALCULOS
				-- *************
				--IPS_P		IPS Patrón
				CASE WHEN cty.sign = 'C' AND cty.Value='IPS_P' THEN pyr_d.amountcalculated  ELSE 0 END  as ipspatron
				FROM adempiere.amn_payroll as pyr
				LEFT JOIN (
					SELECT DISTINCT ON (pyr.amn_payroll_id) pyr.amn_payroll_id, pyh.salary as salary_hist , pyh.amn_period_yyyymm 
					FROM adempiere.amn_payroll as pyr
					left join AMN_Payroll_Historic pyh on pyr.amn_employee_id = pyh.amn_employee_id  and to_char(pyr.dateacct,'YYYY-MM') = to_char(pyh.validto ,'YYYY-MM')
				) as histo on histo.amn_payroll_id = pyr.amn_payroll_id
				INNER JOIN adempiere.ad_client as cli ON (pyr.ad_client_id = cli.ad_client_id)
				INNER JOIN (
					SELECT 
					pyr2.amn_payroll_id, pyr_d2.amn_payroll_detail_id, pyr_d2.amn_concept_types_proc_id, pyr_d2.qtyvalue,
					currencyConvert(pyr_d2.amountallocated,pyr2.c_currency_id, $P{C_Currency_ID}, pyr2.dateacct, NULL, pyr2.AD_Client_ID, pyr2.AD_Org_ID ) as amountallocated, 
				currencyConvert(pyr_d2.amountdeducted,pyr2.c_currency_id, $P{C_Currency_ID}, pyr2.dateacct, NULL, pyr2.AD_Client_ID, pyr2.AD_Org_ID ) as amountdeducted, 
				currencyConvert(pyr_d2.amountcalculated,pyr2.c_currency_id, $P{C_Currency_ID}, pyr2.dateacct, NULL, pyr2.AD_Client_ID, pyr2.AD_Org_ID ) as amountcalculated 
					FROM adempiere.amn_payroll_detail AS pyr_d2
					INNER JOIN adempiere.amn_payroll pyr2 ON pyr2.amn_payroll_id = pyr_d2.amn_payroll_id 
					WHERE CASE WHEN ( $P{AMN_Payroll_ID} IS NULL OR pyr2.amn_payroll_id= $P{AMN_Payroll_ID} ) THEN 1=1 ELSE 1=0 END 
				) as pyr_d  ON (pyr_d.amn_payroll_id= pyr.amn_payroll_id)
			 	LEFT JOIN adempiere.amn_concept_types_proc as ctp ON (ctp.amn_concept_types_proc_id= pyr_d.amn_concept_types_proc_id)
				LEFT JOIN adempiere.amn_concept_types 	as cty 	  ON (cty.amn_concept_types_id= ctp.amn_concept_types_id)
				LEFT JOIN adempiere.amn_period   as prd 	 ON (prd.amn_period_id= pyr.amn_period_id)
	 			WHERE pyr.ad_client_id=  $P{AD_Client_ID}  
					AND ( CASE WHEN ( $P{AMN_Payroll_ID} IS NULL OR pyr.amn_payroll_id= $P{AMN_Payroll_ID} ) THEN 1=1 ELSE 1=0 END )
			     	AND ( CASE WHEN ( $P{AMN_Period_ID}  IS NULL OR prd.amn_period_id= $P{AMN_Period_ID} ) THEN 1=1 ELSE 1=0 END )
					AND ( CASE WHEN ( $P{isShowZERO} = 'Y') OR ($P{isShowZERO} = 'N' 
			    	AND (  pyr_d.qtyvalue <> 0 OR pyr_d.amountallocated <> 0 OR pyr_d.amountdeducted<>0  OR pyr_d.amountcalculated<> 0)) THEN 1=1 ELSE 1=0 END ) 
				ORDER BY pyr.amn_payroll_id, cty.calcorder
			) AS resum
			GROUP BY resum.amn_payroll_id --, resum.calcorder, resum.cty_value, resum.concept_type --, resum.salariobasico, resum.subtotal,  resum.horasextras, resum.comisadm, resum.ipspatron	 
	 )	as pyr_d ON (pyr_d.amn_payroll_id= pyr.amn_payroll_id)
	 INNER JOIN adempiere.amn_employee as emp ON (emp.amn_employee_id= pyr.amn_employee_id)
	 LEFT JOIN adempiere.amn_department as dep ON (emp.amn_department_id = dep.amn_department_id)
	 LEFT JOIN adempiere.amn_jobtitle as jtt ON (emp.amn_jobtitle_id= jtt.amn_jobtitle_id)
	 LEFT JOIN adempiere.c_bpartner 						as cbp 	 ON (emp.c_bpartner_id= cbp.c_bpartner_id)
	 LEFT JOIN adempiere.amn_period   					    as prd 	 ON (prd.amn_period_id= pyr.amn_period_id)
	 LEFT JOIN adempiere.amn_location 					as lct 	 ON (lct.amn_location_id= pyr.amn_location_id)
	 LEFT JOIN adempiere.amn_contract 					as amc 	 ON (amc.amn_contract_id= pyr.amn_contract_id)	 
	-- LEFT JOIN adempiere.amn_rates as rat ON (pyr.RefDateIni between rat.startdate AND rat.enddate)
	LEFT JOIN c_currency curr1 on pyr.c_currency_id = curr1.c_currency_id
	LEFT JOIN c_currency_trl currt1 on curr1.c_currency_id = currt1.c_currency_id and currt1.ad_language = (SELECT AD_Language FROM AD_Client WHERE AD_Client_ID=$P{AD_Client_ID})
	LEFT JOIN c_currency curr2 on curr2.c_currency_id = $P{C_Currency_ID}
	LEFT JOIN c_currency_trl currt2 on curr2.c_currency_id = currt2.c_currency_id and currt2.ad_language = (SELECT AD_Language FROM AD_Client WHERE AD_Client_ID=$P{AD_Client_ID})
	WHERE org.ad_client_id=  $P{AD_Client_ID}  
	AND ( CASE WHEN ( $P{AD_Org_ID} IS NULL OR $P{AD_Org_ID} = 0 OR org.ad_org_id = $P{AD_Org_ID} ) THEN 1=1 ELSE 1=0 END ) 
    AND ( CASE WHEN ( $P{AMN_Payroll_ID} IS NULL OR pyr.amn_payroll_id= $P{AMN_Payroll_ID} ) THEN 1=1 ELSE 1=0 END )
    AND ( CASE WHEN ( $P{AMN_Location_ID} IS NULL OR lct.amn_location_id= $P{AMN_Location_ID} ) THEN 1=1 ELSE 1=0 END )
    AND ( CASE WHEN ( $P{AMN_Department_ID} IS NULL OR dep.amn_department_id= $P{AMN_Department_ID} ) THEN 1=1 ELSE 1=0 END )
	AND ( CASE WHEN ( $P{AMN_Contract_ID}  IS NULL OR amc.amn_contract_id= $P{AMN_Contract_ID} ) THEN 1=1 ELSE 1=0 END )
	AND ( CASE WHEN ( $P{AMN_Period_ID}  IS NULL OR prd.amn_period_id= $P{AMN_Period_ID} ) THEN 1=1 ELSE 1=0 END )
    AND ( CASE WHEN ( $P{AMN_Employee_ID}  IS NULL OR emp.amn_employee_id= $P{AMN_Employee_ID} ) THEN  1=1 ELSE 1=0 END )
UNION
	SELECT DISTINCT
	-- ORGANIZATION
    org.ad_client_id as org_client, org.ad_org_id as org_org,
    coalesce(org.value,'') as org_value,
	coalesce(org.name,org.value,'') as org_name,
	COALESCE(org.description,org.name,org.value,'') as org_description, 
	COALESCE(orginfo.taxid,'') as org_taxid,
	CASE WHEN img1.binarydata IS NOT NULL THEN img1.binarydata ELSE img2.binarydata END as org_logo,
    loc.regionname as region,
	loc.city as ciudad,
    CONCAT(loc.address1,' ', loc.address2) as direccion,
	-- LOCATION
	 lct.amn_location_id, lct.value as loc_value, COALESCE(lct.name, lct.description) as localidad,
	-- PERIOD
	 prd.amn_period_id, prd.name as periodo, prd.amndateini, prd.amndateend, prd.amn_period_status,
	 prd.refdateini, prd.refdateend,
	-- CONTRACT
	 amc.value as c_value, COALESCE(amc.name, amc.description) as c_tipo, 
	-- DEPARTAMENT
       COALESCE(dep.name,dep.description) as departamento,
	-- EMPLOYEE
	 emp.amn_employee_id, emp.value as value_emp, emp.name as empleado, emp.incomedate as fecha_ingreso,
   COALESCE(jtt.name, jtt.description) as cargo, 
   COALESCE(cbp.taxid,'') as nro_id, 
   COALESCE(emp.salary,CAST(0 as numeric)) as salario,
   COALESCE(histo.salary_hist,CAST(0 as numeric)) as salary_hist,
   -- CURRENCY
	curr1.iso_code as iso_code1,
	COALESCE(currt1.cursymbol,curr1.cursymbol,curr1.iso_code,'') as cursymbol1,
	COALESCE(currt1.description,curr1.description,curr1.iso_code,curr1.cursymbol,'') as currname1,
	curr2.iso_code as iso_code2,
	COALESCE(currt2.cursymbol,curr2.cursymbol,curr2.iso_code,'') as cursymbol2,
	COALESCE(currt2.description,curr2.description,curr2.iso_code,curr2.cursymbol,'') as currname2, 
	-- PAYROLL
   CASE WHEN $P{isPrintCopy} = 'Y' THEN 'Copia Empresa' Else  'Copia' END as copia,
   CASE WHEN $P{isPrintCopy} = 'Y' THEN '02' ELSE 'XX' END as copiaforma,
    COALESCE(pyr.documentno,'') as documentno,
   	pyr.description as recibo,
	pyr.amn_payroll_id,
	-- CONCEPTOS RESUMIDOS
	pyr_d.salariobasico,
	pyr_d.subtotal, 
	pyr_d.cantidad,
	pyr_d.horasextras,
	pyr_d.otros,
	pyr_d.comisadm,
	pyr_d.comisaph,
	pyr_d.comisplaza,
	pyr_d.reposo,
	pyr_d.otroshaberes,
	pyr_d.boniffam,
	pyr_d.otrosingresos,
	pyr_d.ipstrabajador,
	pyr_d.irptrabajador,
	pyr_d.ausencia,
	pyr_d.otrosd,
	pyr_d.embargo,
	pyr_d.otrosdescuentos,
	pyr_d.ipspatron	
	FROM adempiere.amn_payroll as pyr
	LEFT JOIN (
		SELECT DISTINCT ON (pyr.amn_payroll_id) pyr.amn_payroll_id, pyh.salary as salary_hist , pyh.amn_period_yyyymm 
		FROM adempiere.amn_payroll as pyr
		left join AMN_Payroll_Historic pyh on pyr.amn_employee_id = pyh.amn_employee_id  and to_char(pyr.dateacct,'YYYY-MM') = to_char(pyh.validto ,'YYYY-MM')
	) as histo on histo.amn_payroll_id = pyr.amn_payroll_id
	INNER JOIN adempiere.ad_client as cli ON (pyr.ad_client_id = cli.ad_client_id)
	INNER JOIN adempiere.ad_clientinfo as cliinfo ON (cli.ad_client_id = cliinfo.ad_client_id)
	 LEFT JOIN adempiere.ad_image as img1 ON (cliinfo.logoreport_id = img1.ad_image_id)
	INNER JOIN adempiere.ad_org   as org ON (org.ad_org_id = pyr.ad_org_id)
	INNER JOIN adempiere.ad_orginfo as orginfo ON (org.ad_org_id = orginfo.ad_org_id)
	 LEFT JOIN adempiere.c_location as loc ON (orginfo.c_location_id = loc.c_location_id)
	 LEFT JOIN adempiere.ad_image as img2 ON (orginfo.logo_id = img2.ad_image_id)
	 LEFT JOIN (
			SELECT 
				resum.amn_payroll_id,
				sum(resum.salariobasico) AS salariobasico, 
				sum(resum.subtotal) AS subtotal, 
				sum(resum.cantidad) AS cantidad, 
				sum(resum.horasextras) AS horasextras,
				sum(resum.otros) AS otros,
				sum(resum.comisadm) AS comisadm,
				sum(resum.comisaph) AS comisaph,
				sum(resum.comisplaza) AS comisplaza,
				sum(resum.reposo) AS reposo,
				sum(resum.otroshaberes) AS otroshaberes,
				sum(resum.boniffam) AS boniffam,
				sum(resum.otrosingresos) AS otrosingresos,
				sum(resum.ipstrabajador) AS ipstrabajador,
				sum(resum.irptrabajador) AS irptrabajador,
				sum(resum.ausencia) AS ausencia,
				sum(resum.otrosd) AS otrosd,
				sum(resum.embargo) AS embargo,
				sum(resum.otrosdescuentos) AS otrosdescuentos,
				sum(resum.ipspatron) AS ipspatron
			FROM (
				SELECT 	
				-- RECIBO
				pyr.amn_payroll_id,
				-- TIPO DE CONCEPTO
				cty.calcorder, cty.value as cty_value, COALESCE(cty.name, cty.description) as concept_type,
				-- PAYROLL DETAIL
				-- *************
			   	-- ASIGNACIONES	  
				-- *************
				-- cty.sign = 'D'
			   	-- SB		Salario Básico Trabajador 
			  	CASE WHEN cty.sign = 'D' AND cty.Value='SB' THEN pyr_d.amountcalculated  ELSE 0 END  as salariobasico,
			  	--SALARIO		Salario Trabajador
			  	CASE WHEN cty.sign = 'D' AND cty.Value='SALARIO' THEN pyr_d.amountallocated  ELSE 0 END  as subtotal,
			  	CASE WHEN cty.sign = 'D' AND cty.Value='SALARIO' THEN pyr_d.qtyvalue ELSE 0 END  as cantidad,
			  	--HED		Horas Extras
			  	CASE WHEN cty.sign = 'D' AND cty.Value='HED' THEN pyr_d.amountallocated  ELSE 0 END  as horasextras,
				--OTROS		Otros Ingresos
			  	CASE WHEN cty.sign = 'D' AND cty.Value='OTROS' THEN pyr_d.amountallocated  ELSE 0 END  as otros,
				--COMISADM	Comisión Adm
				CASE WHEN cty.sign = 'D' AND cty.Value='COMISADM' THEN pyr_d.amountallocated  ELSE 0 END  as comisadm,
				--COMISAPH	Comisión aph
				CASE WHEN cty.sign = 'D' AND cty.Value='COMISAPH' THEN pyr_d.amountallocated  ELSE 0 END  as comisaph,
				--COMISPLAZA	Comisión Plaza
				CASE WHEN cty.sign = 'D' AND cty.Value='COMISPLAZA' THEN pyr_d.amountallocated  ELSE 0 END  as comisplaza,
				--REPOSO		Reposos
				CASE WHEN cty.sign = 'D' AND cty.Value='REPOSO' THEN pyr_d.amountallocated  ELSE 0 END  as reposo,
				--OTROSHAB	Otros Haberes
				CASE WHEN cty.sign = 'D' AND cty.Value='OTROSHAB' THEN pyr_d.amountallocated  ELSE 0 END  as otroshaberes,
				--BONIFFAM	Bonificación Familiar
				CASE WHEN cty.sign = 'D' AND cty.Value='BONIFFAM' THEN pyr_d.amountallocated  ELSE 0 END  as boniffam,
				-- OTROS CONCEPTOS DE ASIGNACION
				CASE WHEN  cty.sign = 'D' AND cty.Value NOT IN ('SB','SALARIO', 'HED', 'OTROS', 'COMISADM', 'COMISAPH', 'COMISPLAZA', 'REPOSO', 'OTROSHAB', 'BONIFFAM') THEN pyr_d.amountallocated  ELSE 0 END  as otrosingresos,
				-- *************
				-- DEDUCCIONES
				-- *************
				-- cty.sign = 'C'	THEN
				--IPS_T		IPS Trabajador
				CASE WHEN cty.sign = 'C' AND cty.Value='IPS_T' THEN pyr_d.amountdeducted  ELSE 0 END  as ipstrabajador,
				--IRP		IRP
				CASE WHEN cty.sign = 'C' AND cty.Value='IRP' THEN pyr_d.amountdeducted  ELSE 0 END  as irptrabajador,
				--AUSENCIA	Ausencias
				CASE WHEN cty.sign = 'C' AND cty.Value='AUSENCIA' THEN pyr_d.amountdeducted  ELSE 0 END  as ausencia,
				--OTROSD		Otros Descuentos
				CASE WHEN cty.sign = 'C' AND cty.Value='OTROSD' THEN pyr_d.amountdeducted  ELSE 0 END  as otrosd,
				--EMBARGO		Embargo Juducial
				CASE WHEN cty.sign = 'C' AND cty.Value='EMBARGO' THEN pyr_d.amountdeducted  ELSE 0 END  as embargo,
				-- OTROS CONCEPTOS DE DEDUCCION
				CASE WHEN  cty.sign = 'C' AND cty.Value NOT IN ('IPS_T','IRP', 'AUSENCIA', 'OTROS', 'OTROSD', 'EMBARGO') THEN pyr_d.amountdeducted  ELSE 0 END  as otrosdescuentos,
				-- *************
				-- OTROS CALCULOS
				-- *************
				--IPS_P		IPS Patrón
				CASE WHEN cty.sign = 'C' AND cty.Value='IPS_P' THEN pyr_d.amountcalculated  ELSE 0 END  as ipspatron
				FROM adempiere.amn_payroll as pyr
				LEFT JOIN (
					SELECT DISTINCT ON (pyr.amn_payroll_id) pyr.amn_payroll_id, pyh.salary as salary_hist , pyh.amn_period_yyyymm 
					FROM adempiere.amn_payroll as pyr
					left join AMN_Payroll_Historic pyh on pyr.amn_employee_id = pyh.amn_employee_id  and to_char(pyr.dateacct,'YYYY-MM') = to_char(pyh.validto ,'YYYY-MM')
				) as histo on histo.amn_payroll_id = pyr.amn_payroll_id
				INNER JOIN adempiere.ad_client as cli ON (pyr.ad_client_id = cli.ad_client_id)
				INNER JOIN (
					SELECT 
					pyr2.amn_payroll_id, pyr_d2.amn_payroll_detail_id, pyr_d2.amn_concept_types_proc_id, pyr_d2.qtyvalue,
					currencyConvert(pyr_d2.amountallocated,pyr2.c_currency_id, $P{C_Currency_ID}, pyr2.dateacct, NULL, pyr2.AD_Client_ID, pyr2.AD_Org_ID ) as amountallocated, 
				currencyConvert(pyr_d2.amountdeducted,pyr2.c_currency_id, $P{C_Currency_ID}, pyr2.dateacct, NULL, pyr2.AD_Client_ID, pyr2.AD_Org_ID ) as amountdeducted, 
				currencyConvert(pyr_d2.amountcalculated,pyr2.c_currency_id, $P{C_Currency_ID}, pyr2.dateacct, NULL, pyr2.AD_Client_ID, pyr2.AD_Org_ID ) as amountcalculated 
					FROM adempiere.amn_payroll_detail AS pyr_d2
					INNER JOIN adempiere.amn_payroll pyr2 ON pyr2.amn_payroll_id = pyr_d2.amn_payroll_id 
					WHERE CASE WHEN ( $P{AMN_Payroll_ID} IS NULL OR pyr2.amn_payroll_id= $P{AMN_Payroll_ID} ) THEN 1=1 ELSE 1=0 END 
				) as pyr_d  ON (pyr_d.amn_payroll_id= pyr.amn_payroll_id)
			 	LEFT JOIN adempiere.amn_concept_types_proc as ctp ON (ctp.amn_concept_types_proc_id= pyr_d.amn_concept_types_proc_id)
				LEFT JOIN adempiere.amn_concept_types 	as cty 	  ON (cty.amn_concept_types_id= ctp.amn_concept_types_id)
				LEFT JOIN adempiere.amn_period   as prd 	 ON (prd.amn_period_id= pyr.amn_period_id)
	 			WHERE pyr.ad_client_id=  $P{AD_Client_ID}  
					AND ( CASE WHEN ( $P{AMN_Payroll_ID} IS NULL OR pyr.amn_payroll_id= $P{AMN_Payroll_ID} ) THEN 1=1 ELSE 1=0 END )
			     	AND ( CASE WHEN ( $P{AMN_Period_ID}  IS NULL OR prd.amn_period_id= $P{AMN_Period_ID} ) THEN 1=1 ELSE 1=0 END )
					AND ( CASE WHEN ( $P{isShowZERO} = 'Y') OR ($P{isShowZERO} = 'N' 
			    	AND (  pyr_d.qtyvalue <> 0 OR pyr_d.amountallocated <> 0 OR pyr_d.amountdeducted<>0  OR pyr_d.amountcalculated<> 0)) THEN 1=1 ELSE 1=0 END ) 
				ORDER BY pyr.amn_payroll_id, cty.calcorder
			) AS resum
			GROUP BY resum.amn_payroll_id --, resum.calcorder, resum.cty_value, resum.concept_type --, resum.salariobasico, resum.subtotal,  resum.horasextras, resum.comisadm, resum.ipspatron
	 )	as pyr_d ON (pyr_d.amn_payroll_id= pyr.amn_payroll_id)
	 INNER JOIN adempiere.amn_employee as emp ON (emp.amn_employee_id= pyr.amn_employee_id)
	 LEFT JOIN adempiere.amn_department as dep ON (emp.amn_department_id = dep.amn_department_id)
	 LEFT JOIN adempiere.amn_jobtitle as jtt ON (emp.amn_jobtitle_id= jtt.amn_jobtitle_id)
	 LEFT JOIN adempiere.c_bpartner 						as cbp 	 ON (emp.c_bpartner_id= cbp.c_bpartner_id)
	 LEFT JOIN adempiere.amn_period   					    as prd 	 ON (prd.amn_period_id= pyr.amn_period_id)
	 LEFT JOIN adempiere.amn_location 					as lct 	 ON (lct.amn_location_id= pyr.amn_location_id)
	 LEFT JOIN adempiere.amn_contract 					as amc 	 ON (amc.amn_contract_id= pyr.amn_contract_id)	 
	-- LEFT JOIN adempiere.amn_rates as rat ON (pyr.RefDateIni between rat.startdate AND rat.enddate)
	LEFT JOIN c_currency curr1 on pyr.c_currency_id = curr1.c_currency_id
	LEFT JOIN c_currency_trl currt1 on curr1.c_currency_id = currt1.c_currency_id and currt1.ad_language = (SELECT AD_Language FROM AD_Client WHERE AD_Client_ID=$P{AD_Client_ID})
	LEFT JOIN c_currency curr2 on curr2.c_currency_id = $P{C_Currency_ID}
	LEFT JOIN c_currency_trl currt2 on curr2.c_currency_id = currt2.c_currency_id and currt2.ad_language = (SELECT AD_Language FROM AD_Client WHERE AD_Client_ID=$P{AD_Client_ID})
	WHERE org.ad_client_id=  $P{AD_Client_ID}  
	AND ( CASE WHEN ( $P{AD_Org_ID} IS NULL OR $P{AD_Org_ID} = 0 OR org.ad_org_id= $P{AD_Org_ID} ) THEN 1=1 ELSE 1=0 END ) 
    AND ( CASE WHEN ( $P{AMN_Payroll_ID} IS NULL OR pyr.amn_payroll_id= $P{AMN_Payroll_ID} ) THEN 1=1 ELSE 1=0 END )
    AND ( CASE WHEN ( $P{AMN_Location_ID} IS NULL OR lct.amn_location_id= $P{AMN_Location_ID} ) THEN 1=1 ELSE 1=0 END )
    AND ( CASE WHEN ( $P{AMN_Department_ID} IS NULL OR dep.amn_department_id= $P{AMN_Department_ID} ) THEN 1=1 ELSE 1=0 END )
	AND ( CASE WHEN ( $P{AMN_Contract_ID}  IS NULL OR amc.amn_contract_id= $P{AMN_Contract_ID} ) THEN 1=1 ELSE 1=0 END )
	AND ( CASE WHEN ( $P{AMN_Period_ID}  IS NULL OR prd.amn_period_id= $P{AMN_Period_ID} ) THEN 1=1 ELSE 1=0 END )
    AND ( CASE WHEN ( $P{AMN_Employee_ID}  IS NULL OR emp.amn_employee_id= $P{AMN_Employee_ID} ) THEN  1=1 ELSE 1=0 END )    
) as nomina
WHERE copiaforma IN ('01','02')
ORDER BY  org_name ASC, value_emp ASC,  documentno, copia DESC]]>
	</queryString>
	<field name="org_client" class="java.math.BigDecimal">
		<property name="com.jaspersoft.studio.field.name" value="org_client"/>
		<property name="com.jaspersoft.studio.field.label" value="org_client"/>
	</field>
	<field name="org_org" class="java.math.BigDecimal">
		<property name="com.jaspersoft.studio.field.name" value="org_org"/>
		<property name="com.jaspersoft.studio.field.label" value="org_org"/>
	</field>
	<field name="org_value" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="org_value"/>
		<property name="com.jaspersoft.studio.field.label" value="org_value"/>
	</field>
	<field name="org_name" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="org_name"/>
		<property name="com.jaspersoft.studio.field.label" value="org_name"/>
	</field>
	<field name="org_description" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="org_description"/>
		<property name="com.jaspersoft.studio.field.label" value="org_description"/>
	</field>
	<field name="org_taxid" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="org_taxid"/>
		<property name="com.jaspersoft.studio.field.label" value="org_taxid"/>
	</field>
	<field name="org_logo" class="byte[]">
		<property name="com.jaspersoft.studio.field.name" value="org_logo"/>
		<property name="com.jaspersoft.studio.field.label" value="org_logo"/>
	</field>
	<field name="region" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="region"/>
		<property name="com.jaspersoft.studio.field.label" value="region"/>
	</field>
	<field name="ciudad" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="ciudad"/>
		<property name="com.jaspersoft.studio.field.label" value="ciudad"/>
	</field>
	<field name="direccion" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="direccion"/>
		<property name="com.jaspersoft.studio.field.label" value="direccion"/>
	</field>
	<field name="amn_location_id" class="java.math.BigDecimal">
		<property name="com.jaspersoft.studio.field.name" value="amn_location_id"/>
		<property name="com.jaspersoft.studio.field.label" value="amn_location_id"/>
	</field>
	<field name="loc_value" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="loc_value"/>
		<property name="com.jaspersoft.studio.field.label" value="loc_value"/>
	</field>
	<field name="localidad" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="localidad"/>
		<property name="com.jaspersoft.studio.field.label" value="localidad"/>
	</field>
	<field name="amn_period_id" class="java.math.BigDecimal">
		<property name="com.jaspersoft.studio.field.name" value="amn_period_id"/>
		<property name="com.jaspersoft.studio.field.label" value="amn_period_id"/>
	</field>
	<field name="periodo" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="periodo"/>
		<property name="com.jaspersoft.studio.field.label" value="periodo"/>
	</field>
	<field name="amndateini" class="java.sql.Timestamp">
		<property name="com.jaspersoft.studio.field.name" value="amndateini"/>
		<property name="com.jaspersoft.studio.field.label" value="amndateini"/>
	</field>
	<field name="amndateend" class="java.sql.Timestamp">
		<property name="com.jaspersoft.studio.field.name" value="amndateend"/>
		<property name="com.jaspersoft.studio.field.label" value="amndateend"/>
	</field>
	<field name="amn_period_status" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="amn_period_status"/>
		<property name="com.jaspersoft.studio.field.label" value="amn_period_status"/>
	</field>
	<field name="refdateini" class="java.sql.Timestamp">
		<property name="com.jaspersoft.studio.field.name" value="refdateini"/>
		<property name="com.jaspersoft.studio.field.label" value="refdateini"/>
	</field>
	<field name="refdateend" class="java.sql.Timestamp">
		<property name="com.jaspersoft.studio.field.name" value="refdateend"/>
		<property name="com.jaspersoft.studio.field.label" value="refdateend"/>
	</field>
	<field name="c_value" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="c_value"/>
		<property name="com.jaspersoft.studio.field.label" value="c_value"/>
	</field>
	<field name="c_tipo" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="c_tipo"/>
		<property name="com.jaspersoft.studio.field.label" value="c_tipo"/>
	</field>
	<field name="departamento" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="departamento"/>
		<property name="com.jaspersoft.studio.field.label" value="departamento"/>
	</field>
	<field name="amn_employee_id" class="java.math.BigDecimal">
		<property name="com.jaspersoft.studio.field.name" value="amn_employee_id"/>
		<property name="com.jaspersoft.studio.field.label" value="amn_employee_id"/>
	</field>
	<field name="value_emp" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="value_emp"/>
		<property name="com.jaspersoft.studio.field.label" value="value_emp"/>
	</field>
	<field name="empleado" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="empleado"/>
		<property name="com.jaspersoft.studio.field.label" value="empleado"/>
	</field>
	<field name="fecha_ingreso" class="java.sql.Timestamp">
		<property name="com.jaspersoft.studio.field.name" value="fecha_ingreso"/>
		<property name="com.jaspersoft.studio.field.label" value="fecha_ingreso"/>
	</field>
	<field name="cargo" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="cargo"/>
		<property name="com.jaspersoft.studio.field.label" value="cargo"/>
	</field>
	<field name="nro_id" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="nro_id"/>
		<property name="com.jaspersoft.studio.field.label" value="nro_id"/>
	</field>
	<field name="salario" class="java.math.BigDecimal">
		<property name="com.jaspersoft.studio.field.name" value="salario"/>
		<property name="com.jaspersoft.studio.field.label" value="salario"/>
	</field>
	<field name="salary_hist" class="java.math.BigDecimal">
		<property name="com.jaspersoft.studio.field.name" value="salary_hist"/>
		<property name="com.jaspersoft.studio.field.label" value="salary_hist"/>
	</field>
	<field name="iso_code1" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="iso_code1"/>
		<property name="com.jaspersoft.studio.field.label" value="iso_code1"/>
	</field>
	<field name="cursymbol1" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="cursymbol1"/>
		<property name="com.jaspersoft.studio.field.label" value="cursymbol1"/>
	</field>
	<field name="currname1" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="currname1"/>
		<property name="com.jaspersoft.studio.field.label" value="currname1"/>
	</field>
	<field name="iso_code2" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="iso_code2"/>
		<property name="com.jaspersoft.studio.field.label" value="iso_code2"/>
	</field>
	<field name="cursymbol2" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="cursymbol2"/>
		<property name="com.jaspersoft.studio.field.label" value="cursymbol2"/>
	</field>
	<field name="currname2" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="currname2"/>
		<property name="com.jaspersoft.studio.field.label" value="currname2"/>
	</field>
	<field name="copia" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="copia"/>
		<property name="com.jaspersoft.studio.field.label" value="copia"/>
	</field>
	<field name="copiaforma" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="copiaforma"/>
		<property name="com.jaspersoft.studio.field.label" value="copiaforma"/>
	</field>
	<field name="documentno" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="documentno"/>
		<property name="com.jaspersoft.studio.field.label" value="documentno"/>
	</field>
	<field name="recibo" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="recibo"/>
		<property name="com.jaspersoft.studio.field.label" value="recibo"/>
	</field>
	<field name="amn_payroll_id" class="java.math.BigDecimal">
		<property name="com.jaspersoft.studio.field.name" value="amn_payroll_id"/>
		<property name="com.jaspersoft.studio.field.label" value="amn_payroll_id"/>
	</field>
	<field name="salariobasico" class="java.math.BigDecimal">
		<property name="com.jaspersoft.studio.field.name" value="salariobasico"/>
		<property name="com.jaspersoft.studio.field.label" value="salariobasico"/>
	</field>
	<field name="subtotal" class="java.math.BigDecimal">
		<property name="com.jaspersoft.studio.field.name" value="subtotal"/>
		<property name="com.jaspersoft.studio.field.label" value="subtotal"/>
	</field>
	<field name="cantidad" class="java.math.BigDecimal">
		<property name="com.jaspersoft.studio.field.name" value="cantidad"/>
		<property name="com.jaspersoft.studio.field.label" value="cantidad"/>
	</field>
	<field name="horasextras" class="java.math.BigDecimal">
		<property name="com.jaspersoft.studio.field.name" value="horasextras"/>
		<property name="com.jaspersoft.studio.field.label" value="horasextras"/>
	</field>
	<field name="otros" class="java.math.BigDecimal">
		<property name="com.jaspersoft.studio.field.name" value="otros"/>
		<property name="com.jaspersoft.studio.field.label" value="otros"/>
	</field>
	<field name="comisadm" class="java.math.BigDecimal">
		<property name="com.jaspersoft.studio.field.name" value="comisadm"/>
		<property name="com.jaspersoft.studio.field.label" value="comisadm"/>
	</field>
	<field name="comisaph" class="java.math.BigDecimal">
		<property name="com.jaspersoft.studio.field.name" value="comisaph"/>
		<property name="com.jaspersoft.studio.field.label" value="comisaph"/>
	</field>
	<field name="comisplaza" class="java.math.BigDecimal">
		<property name="com.jaspersoft.studio.field.name" value="comisplaza"/>
		<property name="com.jaspersoft.studio.field.label" value="comisplaza"/>
	</field>
	<field name="reposo" class="java.math.BigDecimal">
		<property name="com.jaspersoft.studio.field.name" value="reposo"/>
		<property name="com.jaspersoft.studio.field.label" value="reposo"/>
	</field>
	<field name="otroshaberes" class="java.math.BigDecimal">
		<property name="com.jaspersoft.studio.field.name" value="otroshaberes"/>
		<property name="com.jaspersoft.studio.field.label" value="otroshaberes"/>
	</field>
	<field name="boniffam" class="java.math.BigDecimal">
		<property name="com.jaspersoft.studio.field.name" value="boniffam"/>
		<property name="com.jaspersoft.studio.field.label" value="boniffam"/>
	</field>
	<field name="otrosingresos" class="java.math.BigDecimal">
		<property name="com.jaspersoft.studio.field.name" value="otrosingresos"/>
		<property name="com.jaspersoft.studio.field.label" value="otrosingresos"/>
	</field>
	<field name="ipstrabajador" class="java.math.BigDecimal">
		<property name="com.jaspersoft.studio.field.name" value="ipstrabajador"/>
		<property name="com.jaspersoft.studio.field.label" value="ipstrabajador"/>
	</field>
	<field name="irptrabajador" class="java.math.BigDecimal">
		<property name="com.jaspersoft.studio.field.name" value="irptrabajador"/>
		<property name="com.jaspersoft.studio.field.label" value="irptrabajador"/>
	</field>
	<field name="ausencia" class="java.math.BigDecimal">
		<property name="com.jaspersoft.studio.field.name" value="ausencia"/>
		<property name="com.jaspersoft.studio.field.label" value="ausencia"/>
	</field>
	<field name="otrosd" class="java.math.BigDecimal">
		<property name="com.jaspersoft.studio.field.name" value="otrosd"/>
		<property name="com.jaspersoft.studio.field.label" value="otrosd"/>
	</field>
	<field name="embargo" class="java.math.BigDecimal">
		<property name="com.jaspersoft.studio.field.name" value="embargo"/>
		<property name="com.jaspersoft.studio.field.label" value="embargo"/>
	</field>
	<field name="otrosdescuentos" class="java.math.BigDecimal">
		<property name="com.jaspersoft.studio.field.name" value="otrosdescuentos"/>
		<property name="com.jaspersoft.studio.field.label" value="otrosdescuentos"/>
	</field>
	<field name="ipspatron" class="java.math.BigDecimal">
		<property name="com.jaspersoft.studio.field.name" value="ipspatron"/>
		<property name="com.jaspersoft.studio.field.label" value="ipspatron"/>
	</field>
	<variable name="dateini" class="java.sql.Timestamp" resetType="Group" resetGroup="Group_porEmpleado">
		<variableExpression><![CDATA[$F{amndateini}]]></variableExpression>
	</variable>
	<variable name="dateend" class="java.sql.Timestamp" resetType="Group" resetGroup="Group_porEmpleado">
		<variableExpression><![CDATA[$F{amndateend}]]></variableExpression>
	</variable>
	<group name="Group_porEmpleado" keepTogether="true">
		<groupExpression><![CDATA[$F{amn_employee_id}]]></groupExpression>
		<groupHeader>
			<band height="15">
				<property name="local_mesure_unitheight" value="pixel"/>
				<property name="com.jaspersoft.studio.unit.height" value="px"/>
				<printWhenExpression><![CDATA[$F{amn_employee_id}!= null]]></printWhenExpression>
			</band>
		</groupHeader>
	</group>
	<group name="Group_porRecibo">
		<groupExpression><![CDATA[$F{documentno}]]></groupExpression>
		<groupFooter>
			<band height="1">
				<property name="local_mesure_unitheight" value="pixel"/>
			</band>
		</groupFooter>
	</group>
	<group name="Group_porCopia">
		<groupExpression><![CDATA[$F{copia}]]></groupExpression>
		<groupHeader>
			<band height="76">
				<property name="com.jaspersoft.studio.unit.height" value="px"/>
				<rectangle radius="0">
					<reportElement mode="Transparent" x="0" y="52" width="575" height="24" uuid="f8e291b7-a8ab-40cb-8923-4377e4a16aa3">
						<property name="com.jaspersoft.studio.unit.y" value="px"/>
						<property name="com.jaspersoft.studio.unit.height" value="px"/>
						<printWhenExpression><![CDATA[1==2]]></printWhenExpression>
					</reportElement>
				</rectangle>
				<image hAlign="Center" vAlign="Middle" onErrorType="Icon">
					<reportElement key="" x="0" y="0" width="85" height="52" uuid="645e8c69-6363-492f-a474-fcf88880e1d9">
						<property name="local_mesure_unitheight" value="pixel"/>
						<property name="local_mesure_unitwidth" value="pixel"/>
						<property name="com.jaspersoft.studio.unit.width" value="px"/>
						<property name="local_mesure_unity" value="pixel"/>
						<property name="com.jaspersoft.studio.unit.y" value="px"/>
						<property name="local_mesure_unitx" value="pixel"/>
						<property name="com.jaspersoft.studio.unit.x" value="px"/>
					</reportElement>
					<box>
						<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					</box>
					<imageExpression><![CDATA[$P{RESOURCE_DIR} + "logo_Ministerio_justicia2.png"]]></imageExpression>
				</image>
				<textField>
					<reportElement mode="Transparent" x="85" y="28" width="490" height="12" forecolor="#000000" backcolor="#FFFFFF" uuid="82e5cf76-3711-4900-8eaf-3f15715041ab">
						<property name="local_mesure_unitheight" value="pixel"/>
						<property name="com.jaspersoft.studio.unit.height" value="px"/>
					</reportElement>
					<box topPadding="0" leftPadding="10" bottomPadding="0" rightPadding="0">
						<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					</box>
					<textElement textAlignment="Left" verticalAlignment="Middle" rotation="None" markup="none">
						<font fontName="Arial" size="10" isBold="true" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
						<paragraph lineSpacing="Single" lineSpacingSize="1.0" firstLineIndent="0" leftIndent="0" rightIndent="0" spacingBefore="0" spacingAfter="0" tabStopWidth="40"/>
					</textElement>
					<textFieldExpression><![CDATA[$R{report.employee}+": "+$F{value_emp}.toUpperCase() + " " + $F{empleado}.toUpperCase()]]></textFieldExpression>
				</textField>
				<textField isBlankWhenNull="true">
					<reportElement x="85" y="14" width="490" height="14" isRemoveLineWhenBlank="true" uuid="e296e979-a200-4013-a370-ca1b5f4df3cd">
						<property name="local_mesure_unitheight" value="pixel"/>
						<property name="com.jaspersoft.studio.unit.height" value="px"/>
						<property name="com.jaspersoft.studio.unit.width" value="px"/>
					</reportElement>
					<box leftPadding="10">
						<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					</box>
					<textElement verticalAlignment="Middle">
						<font fontName="Arial" size="12" isBold="true" isItalic="false"/>
					</textElement>
					<textFieldExpression><![CDATA[$R{report.employer}+": "+$F{org_name}.toUpperCase()]]></textFieldExpression>
				</textField>
				<textField isBlankWhenNull="true">
					<reportElement x="85" y="0" width="490" height="14" isRemoveLineWhenBlank="true" uuid="f1e89d6c-21a3-4bc6-ba24-e4a6ef04287f">
						<property name="local_mesure_unitheight" value="pixel"/>
						<property name="com.jaspersoft.studio.unit.height" value="px"/>
						<property name="local_mesure_unitx" value="pixel"/>
						<property name="com.jaspersoft.studio.unit.x" value="px"/>
						<property name="com.jaspersoft.studio.unit.width" value="px"/>
					</reportElement>
					<box leftPadding="0">
						<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					</box>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font fontName="Arial" size="12" isBold="true"/>
					</textElement>
					<textFieldExpression><![CDATA[$R{report.titleliq}.toUpperCase()]]></textFieldExpression>
				</textField>
				<textField evaluationTime="Group" evaluationGroup="Group_porEmpleado" pattern="">
					<reportElement x="85" y="40" width="490" height="12" uuid="76b1e07d-f281-46d5-b3ea-ab996b3b0d08">
						<property name="local_mesure_unitheight" value="pixel"/>
						<property name="com.jaspersoft.studio.unit.height" value="px"/>
					</reportElement>
					<box leftPadding="10">
						<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					</box>
					<textElement textAlignment="Left" verticalAlignment="Middle">
						<font fontName="Arial" size="10" isBold="true"/>
					</textElement>
					<textFieldExpression><![CDATA[$R{report.period}+": "+($F{amn_period_id}!= null 
 ? ("("+$R{report.period}+": " + new SimpleDateFormat("dd/MM/yy").format($V{dateini}) + " "+$R{report.to}+"  " + new SimpleDateFormat("dd/MM/yy").format($V{dateend}) + ")")
 : $F{periodo} + " ("+$R{report.allperiods}+")"
)]]></textFieldExpression>
				</textField>
				<textField>
					<reportElement x="30" y="52" width="55" height="24" uuid="316bcd23-869a-4fff-a4b8-77d172f0b9a3">
						<property name="com.jaspersoft.studio.unit.y" value="pixel"/>
						<property name="com.jaspersoft.studio.unit.width" value="px"/>
						<property name="com.jaspersoft.studio.unit.x" value="px"/>
					</reportElement>
					<box>
						<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
						<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
						<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
						<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					</box>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font fontName="Arial" isBold="true"/>
					</textElement>
					<textFieldExpression><![CDATA[$R{report.salarybasic}]]></textFieldExpression>
				</textField>
				<textField>
					<reportElement x="0" y="52" width="30" height="24" uuid="f6911e48-2d6e-4fcd-a594-48e50514abef">
						<property name="com.jaspersoft.studio.unit.y" value="pixel"/>
						<property name="com.jaspersoft.studio.unit.width" value="px"/>
						<property name="com.jaspersoft.studio.unit.height" value="px"/>
					</reportElement>
					<box>
						<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
						<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
						<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
						<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					</box>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font fontName="Arial" size="8" isBold="true"/>
					</textElement>
					<textFieldExpression><![CDATA[$R{report.qty}]]></textFieldExpression>
				</textField>
				<textField>
					<reportElement x="85" y="52" width="55" height="24" uuid="96fef96d-45bd-4ecb-b3c8-960b699c48a4">
						<property name="com.jaspersoft.studio.unit.y" value="pixel"/>
						<property name="com.jaspersoft.studio.unit.width" value="px"/>
						<property name="com.jaspersoft.studio.unit.x" value="px"/>
					</reportElement>
					<box>
						<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
						<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
						<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
						<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					</box>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font fontName="Arial" isBold="true"/>
					</textElement>
					<textFieldExpression><![CDATA[$R{report.subtotal}]]></textFieldExpression>
				</textField>
				<textField>
					<reportElement x="140" y="52" width="50" height="24" uuid="40039a0b-b0ef-4fec-8802-38e7e054cca7">
						<property name="com.jaspersoft.studio.unit.y" value="pixel"/>
						<property name="com.jaspersoft.studio.unit.width" value="px"/>
					</reportElement>
					<box>
						<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
						<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
						<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
						<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					</box>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font fontName="Arial" isBold="true"/>
					</textElement>
					<textFieldExpression><![CDATA[$R{report.hoursextra}]]></textFieldExpression>
				</textField>
				<textField>
					<reportElement x="190" y="52" width="50" height="24" uuid="fff7d98c-e252-4684-aa53-a56101dc424b">
						<property name="com.jaspersoft.studio.unit.y" value="pixel"/>
						<property name="com.jaspersoft.studio.unit.width" value="px"/>
					</reportElement>
					<box>
						<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
						<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
						<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
						<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					</box>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font fontName="Arial" isBold="true"/>
					</textElement>
					<textFieldExpression><![CDATA[$R{report.commissions}]]></textFieldExpression>
				</textField>
				<textField>
					<reportElement x="240" y="52" width="50" height="24" uuid="4f76966a-0ca0-4598-9d26-4c4a2aa5d0c3">
						<property name="com.jaspersoft.studio.unit.y" value="pixel"/>
						<property name="com.jaspersoft.studio.unit.width" value="px"/>
					</reportElement>
					<box>
						<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
						<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
						<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
						<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					</box>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font fontName="Arial" isBold="true"/>
					</textElement>
					<textFieldExpression><![CDATA[$R{report.others}]]></textFieldExpression>
				</textField>
				<textField>
					<reportElement x="290" y="52" width="60" height="24" uuid="d5fb3788-ad79-4824-8363-8c08fbe3e0f6">
						<property name="com.jaspersoft.studio.unit.y" value="pixel"/>
						<property name="com.jaspersoft.studio.unit.width" value="px"/>
					</reportElement>
					<box>
						<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
						<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
						<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
						<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					</box>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font fontName="Arial" isBold="true"/>
					</textElement>
					<textFieldExpression><![CDATA[$R{report.total}+"  "+$R{report.salary}]]></textFieldExpression>
				</textField>
				<textField>
					<reportElement x="350" y="52" width="100" height="12" uuid="e48ebd23-c4a2-4fe9-af95-147fc429eb77">
						<property name="com.jaspersoft.studio.unit.y" value="pixel"/>
						<property name="com.jaspersoft.studio.unit.height" value="px"/>
						<property name="com.jaspersoft.studio.unit.width" value="px"/>
					</reportElement>
					<box>
						<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
						<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
						<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
						<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					</box>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font fontName="Arial" isBold="true"/>
					</textElement>
					<textFieldExpression><![CDATA[$R{report.discounts}]]></textFieldExpression>
				</textField>
				<textField>
					<reportElement x="350" y="64" width="50" height="12" uuid="16ebad52-41b4-45ac-a42c-195239a29b14">
						<property name="com.jaspersoft.studio.unit.height" value="px"/>
						<property name="com.jaspersoft.studio.unit.y" value="px"/>
						<property name="com.jaspersoft.studio.unit.width" value="px"/>
					</reportElement>
					<box>
						<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
						<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
						<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
						<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					</box>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font fontName="Arial" isBold="true"/>
					</textElement>
					<textFieldExpression><![CDATA["IPS"]]></textFieldExpression>
				</textField>
				<textField>
					<reportElement x="400" y="64" width="50" height="12" uuid="42dfc0be-7574-44dd-8e7b-3c9f13f2eb19">
						<property name="com.jaspersoft.studio.unit.y" value="pixel"/>
						<property name="com.jaspersoft.studio.unit.height" value="px"/>
						<property name="com.jaspersoft.studio.unit.width" value="px"/>
					</reportElement>
					<box>
						<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
						<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
						<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
						<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					</box>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font fontName="Arial" isBold="true"/>
					</textElement>
					<textFieldExpression><![CDATA[$R{report.others}]]></textFieldExpression>
				</textField>
				<textField>
					<reportElement x="450" y="52" width="60" height="24" uuid="44cc77c9-4a96-4694-9a8f-a1f5257b6c33">
						<property name="com.jaspersoft.studio.unit.y" value="pixel"/>
						<property name="com.jaspersoft.studio.unit.width" value="px"/>
					</reportElement>
					<box>
						<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
						<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
						<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
						<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					</box>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font fontName="Arial" isBold="true"/>
					</textElement>
					<textFieldExpression><![CDATA[$R{report.total}+"  "+$R{report.discounts}]]></textFieldExpression>
				</textField>
				<textField>
					<reportElement x="510" y="52" width="64" height="24" uuid="028e2359-c66c-449c-bd1b-09bc34319b58">
						<property name="com.jaspersoft.studio.unit.y" value="pixel"/>
						<property name="com.jaspersoft.studio.unit.width" value="px"/>
					</reportElement>
					<box>
						<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
						<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
						<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
						<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					</box>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font fontName="Arial" isBold="true"/>
					</textElement>
					<textFieldExpression><![CDATA[$R{report.netreceivable}]]></textFieldExpression>
				</textField>
			</band>
		</groupHeader>
		<groupFooter>
			<band height="150">
				<property name="com.jaspersoft.studio.unit.height" value="px"/>
				<line>
					<reportElement x="259" y="70" width="188" height="1" uuid="533a2b52-05fa-4fde-ae3b-dfe34ad77c83">
						<property name="com.jaspersoft.studio.unit.width" value="pixel"/>
					</reportElement>
				</line>
				<line>
					<reportElement x="80" y="69" width="153" height="1" uuid="b1241bf0-1f1c-48bc-8574-3f42c8c66009">
						<property name="com.jaspersoft.studio.unit.width" value="pixel"/>
					</reportElement>
				</line>
				<line>
					<reportElement x="0" y="96" width="572" height="1" uuid="83077131-3803-439a-8d9a-f7c0ddc4364c">
						<property name="com.jaspersoft.studio.unit.width" value="pixel"/>
					</reportElement>
					<graphicElement>
						<pen lineStyle="Dotted"/>
					</graphicElement>
				</line>
				<line>
					<reportElement x="0" y="97" width="5" height="1" uuid="07f40918-9bb3-4213-a969-10c8a38f3d83">
						<property name="com.jaspersoft.studio.unit.width" value="px"/>
						<property name="local_mesure_unitwidth" value="pixel"/>
					</reportElement>
					<graphicElement>
						<pen lineStyle="Dotted"/>
					</graphicElement>
				</line>
				<textField>
					<reportElement x="0" y="83" width="230" height="12" uuid="4338160e-34bc-40fc-b2cb-f4850bda5901"/>
					<textElement verticalAlignment="Bottom">
						<font fontName="Arial" size="8" isBold="false"/>
					</textElement>
					<textFieldExpression><![CDATA[$F{copiaforma}.compareToIgnoreCase( "01" ) == 0 ? $R{report.original}: $R{report.copyorg}]]></textFieldExpression>
				</textField>
				<textField>
					<reportElement x="80" y="70" width="152" height="12" forecolor="#968C8C" uuid="70e88d78-3382-4a22-8097-b6b86a379250"/>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font fontName="Arial" size="8"/>
					</textElement>
					<textFieldExpression><![CDATA[$R{report.byorg}+": "]]></textFieldExpression>
				</textField>
				<textField>
					<reportElement x="259" y="71" width="188" height="12" forecolor="#968C8C" uuid="3475dc68-7099-44fd-bce4-d37bf18042bf"/>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font fontName="Arial" size="8"/>
					</textElement>
					<textFieldExpression><![CDATA[$R{report.signature}+": "]]></textFieldExpression>
				</textField>
				<textField>
					<reportElement x="464" y="71" width="100" height="12" forecolor="#968C8C" uuid="a2b5f66d-2a98-4a47-9793-2f044c1aaf64"/>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font fontName="Arial" size="8"/>
					</textElement>
					<textFieldExpression><![CDATA[$R{report.fingerprint}+": "]]></textFieldExpression>
				</textField>
			</band>
		</groupFooter>
	</group>
	<background>
		<band splitType="Stretch"/>
	</background>
	<detail>
		<band height="12" splitType="Stretch">
			<printWhenExpression><![CDATA[$F{amn_period_id}!= null && $F{amn_location_id}!= null]]></printWhenExpression>
			<textField pattern="#,##0.###;(#,##0.###-)">
				<reportElement x="0" y="0" width="30" height="12" uuid="e7ef6ea4-8334-4712-9ee8-f5fd5964ce2c"/>
				<box>
					<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Arial" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{cantidad}]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0.00">
				<reportElement x="30" y="0" width="55" height="12" uuid="1026c5c1-a223-4742-b418-6cfa7d3a3120">
					<property name="com.jaspersoft.studio.unit.x" value="px"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
				</reportElement>
				<box>
					<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font fontName="Arial" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{subtotal}]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0.00">
				<reportElement x="85" y="0" width="55" height="12" uuid="cf1dc163-07f5-4368-83f4-9c9f83888af3">
					<property name="com.jaspersoft.studio.unit.x" value="px"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
				</reportElement>
				<box>
					<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font fontName="Arial" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{subtotal}]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0.00">
				<reportElement x="140" y="0" width="50" height="12" uuid="3ac06505-1c32-4220-8840-79770f59da33"/>
				<box>
					<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font fontName="Arial" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{horasextras}]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0.00">
				<reportElement x="190" y="0" width="50" height="12" uuid="c9063975-cf45-49e2-9fcc-738d643f0ea1"/>
				<box>
					<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font fontName="Arial" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{comisadm}.add($F{comisaph}).add($F{comisplaza})]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0.00">
				<reportElement x="240" y="0" width="50" height="12" uuid="d000dfbf-9121-466a-927e-52becbe2c8fa"/>
				<box>
					<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font fontName="Arial" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{reposo}.add($F{otroshaberes}).add($F{boniffam}).add($F{otrosingresos})]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0.00">
				<reportElement x="290" y="0" width="60" height="12" uuid="e71e9bf3-c181-46fd-9355-d4985bd3f656"/>
				<box>
					<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font fontName="Arial" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{subtotal}.add($F{horasextras}).add($F{otros}).add($F{comisadm}).add($F{comisaph}).add($F{comisplaza}).add($F{reposo}).add($F{otroshaberes}).add($F{boniffam}).add($F{otrosingresos})]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0.00">
				<reportElement x="350" y="0" width="50" height="12" uuid="7bdfa1ba-a13c-4c5e-85af-db12493a2e20"/>
				<box>
					<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font fontName="Arial" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{ipstrabajador}]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0.00">
				<reportElement x="400" y="0" width="50" height="12" uuid="f0e8915d-7082-4a88-aeba-6a45cb14520f"/>
				<box>
					<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font fontName="Arial" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{irptrabajador}.add($F{ausencia}).add($F{otrosd}).add($F{embargo}).add($F{otrosdescuentos})]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0.00">
				<reportElement x="450" y="0" width="60" height="12" uuid="3edb3872-5a18-409c-9b43-c3c1061d8d51">
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
				</reportElement>
				<box>
					<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font fontName="Arial" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{ipstrabajador}.add($F{irptrabajador}).add($F{ausencia}).add($F{otrosd}).add($F{embargo}).add($F{otrosdescuentos})]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0.00">
				<reportElement x="510" y="0" width="64" height="12" uuid="7838b98c-ea92-4c1a-884e-90fdbd5d4176">
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
				</reportElement>
				<box>
					<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font fontName="Arial" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{subtotal}.add($F{horasextras}).add($F{otros}).add($F{comisadm}).add($F{comisaph}).add($F{comisplaza}).add($F{reposo}).add($F{otroshaberes}).add($F{boniffam}).add($F{otrosingresos}).subtract($F{ipstrabajador}.add($F{irptrabajador}).add($F{ausencia}).add($F{otrosd}).add($F{embargo}).add($F{otrosdescuentos}))]]></textFieldExpression>
			</textField>
		</band>
	</detail>
</jasperReport>
